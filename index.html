<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Little Explorer Newsstand</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            font-size: 18px;
        }
        
        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-bottom: 90px;
            font-size: 1rem;
        }
        
        /* Floating shapes background */
        .shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }
        
        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Compact Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 18px 24px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .logo-icon {
            font-size: 2.4rem;
        }
        
        .logo-text h1 {
            color: #5a67d8;
            font-size: 1.6rem;
            font-weight: 700;
            margin: 0;
            line-height: 1.2;
        }
        
        .logo-text p {
            color: #718096;
            font-size: 0.95rem;
            margin: 0;
        }
        
        .header-controls {
            display: flex;
            gap: 12px;
        }
        
        .control-btn {
            background: white;
            border: 3px solid #5a67d8;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-btn:hover {
            background: #5a67d8;
            color: white;
            transform: scale(1.1);
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 12px 0;
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
        }
        
        .nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .nav-item {
            background: none;
            border: none;
            padding: 10px 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            border-radius: 16px;
            position: relative;
            flex: 1;
            max-width: 100px;
        }
        
        .nav-item:hover {
            color: #5a67d8;
        }
        
        .nav-item.active {
            color: #5a67d8;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            top: -10px;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
        }
        
        .nav-icon {
            font-size: 1.8rem;
            transition: transform 0.3s ease;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-item:hover .nav-icon {
            transform: translateY(-3px);
        }
        
        /* Content container */
        .content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
            position: relative;
            z-index: 10;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Daily Pick Header */
        .daily-pick-header {
            text-align: center;
            margin-bottom: 24px;
            padding: 24px;
            background: rgba(255,255,255,0.95);
            border-radius: 24px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }
        
        .daily-pick-title {
            font-size: 2rem;
            color: #5a67d8;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .daily-pick-date {
            color: #5a67d8;
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 8px;
        }
        
        .daily-pick-subtitle {
            color: #718096;
            font-size: 1.1rem;
            margin-top: 12px;
            font-weight: 400;
        }
        
        .daily-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .daily-card {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 3px solid transparent;
        }
        
        .daily-card:hover {
            transform: translateY(-5px);
            border-color: #ffd700;
            box-shadow: 0 10px 30px rgba(0,0,0,0.18);
        }
        
        .daily-card.featured {
            grid-column: 1 / -1;
            border-color: #ffd700;
            position: relative;
        }
        
        .daily-card.featured::after {
            content: '‚≠ê PICK OF THE DAY';
            position: absolute;
            top: 16px;
            right: 16px;
            background: #ffd700;
            color: #744210;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        /* Card Images */
        .card-image {
            height: 140px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-image.ocean {
            background: 
                linear-gradient(135deg, #006994 0%, #009dc4 100%),
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            background-blend-mode: overlay;
        }
        
        .card-image.space {
            background: 
                linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%),
                radial-gradient(ellipse at top, #e94560 0%, transparent 50%),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .card-image.animals {
            background: 
                linear-gradient(135deg, #56ab2f 0%, #a8e063 100%),
                url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");
        }
        
        .card-image.science {
            background: 
                linear-gradient(135deg, #f093fb 0%, #f5576c 100%),
                url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        }
        
        .card-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%);
            z-index: 1;
        }
        
        .card-image .topic-icon {
            font-size: 3.5rem;
            z-index: 2;
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
            position: relative;
        }
        
        .card-image.has-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .card-image.has-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.4) 100%);
            z-index: 1;
        }
        
        /* Card Content */
        .card-content {
            padding: 20px;
        }
        
        .card-category {
            display: inline-block;
            padding: 6px 14px;
            background: #edf2f7;
            color: #5a67d8;
            border-radius: 16px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .card-title {
            font-size: 1.25rem;
            color: #2d3748;
            margin-bottom: 10px;
            font-weight: 700;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .card-preview {
            color: #718096;
            font-size: 1rem;
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Library Header */
        .library-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 28px 0 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .library-title {
            font-size: 1.6rem;
            color: #5a67d8;
            font-weight: 700;
        }
        
        .update-info {
            color: #718096;
            font-size: 1rem;
            text-align: right;
            font-weight: 600;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .news-card {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.18);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 24px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 32px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            padding: 40px;
        }
        
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #fed7d7;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            font-size: 1.6rem;
            cursor: pointer;
            color: #c53030;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: #fc8181;
            color: white;
            transform: rotate(90deg);
        }
        
        .modal-emoji {
            font-size: 5rem;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.8rem;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
            line-height: 1.3;
        }
        
        .modal-text {
            font-size: 1.25rem;
            line-height: 1.9;
            color: #4a5568;
            margin-bottom: 20px;
        }
        
        .fun-fact-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 24px;
            border-radius: 20px;
            margin-top: 24px;
        }
        
        .fun-fact-box h3 {
            color: #d63031;
            margin-bottom: 12px;
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .fun-fact-box p {
            font-size: 1.15rem;
            color: #744210;
            line-height: 1.6;
            font-weight: 600;
        }
        
        /* Feedback Section */
        .feedback-section {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 3px dashed #e2e8f0;
            text-align: center;
        }
        
        .feedback-title {
            font-size: 1.4rem;
            color: #2d3748;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .feedback-buttons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        
        .feedback-btn {
            background: white;
            border: 4px solid #e2e8f0;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .feedback-btn:hover {
            transform: scale(1.15);
        }
        
        .feedback-btn.selected {
            border-color: #48bb78;
            background: #c6f6d5;
            transform: scale(1.1);
        }
        
        .feedback-btn.thumbs-down.selected {
            border-color: #fc8181;
            background: #fed7d7;
        }
        
        .feedback-message {
            font-size: 1.2rem;
            color: #48bb78;
            font-weight: 700;
            opacity: 0;
            transition: opacity 0.3s ease;
            min-height: 30px;
        }
        
        .feedback-message.show {
            opacity: 1;
        }
        
        /* Stats & Challenge */
        .stats-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 28px;
            border-radius: 24px;
            margin-bottom: 24px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }
        
        .stats-title {
            text-align: center;
            font-size: 1.8rem;
            color: #744210;
            margin-bottom: 24px;
            font-weight: 700;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }
        
        .stat-item {
            background: white;
            padding: 20px 12px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: #5a67d8;
        }
        
        .stat-label {
            color: #718096;
            font-size: 0.9rem;
            margin-top: 6px;
            font-weight: 600;
        }
        
        .challenge-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 36px;
            border-radius: 28px;
            text-align: center;
            margin-bottom: 24px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }
        
        .challenge-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .challenge-title {
            font-size: 1.9rem;
            margin-bottom: 16px;
            font-weight: 700;
        }
        
        .challenge-text {
            font-size: 1.4rem;
            margin-bottom: 28px;
            opacity: 0.95;
            line-height: 1.5;
            font-weight: 600;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .challenge-btn {
            background: white;
            color: #764ba2;
            border: none;
            padding: 16px 36px;
            border-radius: 30px;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        .challenge-btn:hover {
            transform: scale(1.08) translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        /* Desktop Adaptation */
        @media (min-width: 768px) {
            .bottom-nav {
                top: 0;
                bottom: auto;
                border-radius: 0 0 24px 24px;
                border-top: none;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
                padding: 14px 0;
            }
            
            body {
                padding-bottom: 24px;
                padding-top: 85px;
            }
            
            .nav-items {
                justify-content: center;
                gap: 30px;
            }
            
            .nav-item {
                flex-direction: row;
                font-size: 1.1rem;
                padding: 12px 24px;
                max-width: none;
                gap: 10px;
            }
            
            .nav-icon {
                font-size: 1.5rem;
                height: auto;
            }
            
            .daily-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .daily-card.featured {
                grid-column: span 2;
                grid-row: span 2;
            }
            
            .daily-card.featured .card-image {
                height: 220px;
            }
            
            .daily-card.featured::after {
                font-size: 1.1rem;
                padding: 10px 20px;
            }
            
            .cards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .card-image {
                height: 160px;
            }
        }
        
        @media (min-width: 1024px) {
            .daily-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .cards-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .card-image {
                height: 180px;
            }
        }
        
        @media (max-width: 480px) {
            html {
                font-size: 16px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .daily-grid {
                grid-template-columns: 1fr;
            }
            
            .daily-card.featured {
                grid-column: 1;
            }
            
            .daily-card.featured::after {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            
            .modal-content {
                padding: 28px;
            }
        }
        
        /* Loading animation */
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.3rem;
            color: #5a67d8;
        }
        
        .spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #5a67d8;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Error message */
        .error-message {
            text-align: center;
            padding: 40px;
            color: #e53e3e;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <!-- Background shapes -->
    <div class="shapes">
        <div class="shape" style="top: 10%; left: 10%; font-size: 4rem;">‚≠ê</div>
        <div class="shape" style="top: 20%; right: 15%; font-size: 3rem;">üåô</div>
        <div class="shape" style="bottom: 20%; left: 5%; font-size: 4rem;">‚òÄÔ∏è</div>
    </div>

    <header>
        <div class="logo">
            <span class="logo-icon">üìö</span>
            <div class="logo-text">
                <h1>Little Explorer</h1>
                <p>Newsstand</p>
            </div>
        </div>
        <div class="header-controls">
            <button class="control-btn" onclick="toggleFullscreen()" title="Toggle Fullscreen">‚õ∂</button>
        </div>
    </header>

    <main class="content-container">
        <!-- Today's Picks -->
        <section id="today" class="section active">
            <div class="daily-pick-header">
                <h2 class="daily-pick-title">üåü Today's Special Picks</h2>
                <p class="daily-pick-date" id="dailyDate">Loading date...</p>
                <p class="daily-pick-subtitle">Fresh stories picked just for you today! Come back tomorrow for new picks!</p>
            </div>
            <div class="daily-grid" id="dailyGrid">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading today's picks...</p>
                </div>
            </div>
        </section>

        <!-- Animals Library -->
        <section id="animals" class="section">
            <div class="library-header">
                <h2 class="library-title">ü¶Å Animal Library</h2>
                <div class="update-info"><span id="animalCount">0</span> stories</div>
            </div>
            <div class="cards-grid" id="animalsGrid">
                <div class="loading">Loading animals...</div>
            </div>
        </section>

        <!-- Space Library -->
        <section id="space" class="section">
            <div class="library-header">
                <h2 class="library-title">üöÄ Space Library</h2>
                <div class="update-info"><span id="spaceCount">0</span> stories</div>
            </div>
            <div class="cards-grid" id="spaceGrid">
                <div class="loading">Loading space...</div>
            </div>
        </section>

        <!-- Science Library -->
        <section id="science" class="section">
            <div class="library-header">
                <h2 class="library-title">üî¨ Science Library</h2>
                <div class="update-info"><span id="scienceCount">0</span> stories</div>
            </div>
            <div class="cards-grid" id="scienceGrid">
                <div class="loading">Loading science...</div>
            </div>
        </section>

        <!-- Challenge -->
        <section id="challenge" class="section">
            <div class="stats-card">
                <h2 class="stats-title">üèÜ Your Explorer Stats</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="totalRead">0</div>
                        <div class="stat-label">Stories Read</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="likedCount">0</div>
                        <div class="stat-label">Liked ‚ù§Ô∏è</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="currentStreak">0</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="favoriteCategory">-</div>
                        <div class="stat-label">Favorite</div>
                    </div>
                </div>
            </div>

            <div class="challenge-card">
                <div class="challenge-icon">üéØ</div>
                <h2 class="challenge-title">Today's Challenge</h2>
                <p class="challenge-text" id="challengeText">Loading challenge...</p>
                <button class="challenge-btn" onclick="newChallenge()">üé≤ New Challenge</button>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-items">
            <button class="nav-item active" onclick="showSection('today', this)">
                <span class="nav-icon">üìÖ</span>
                <span>Today</span>
            </button>
            <button class="nav-item" onclick="showSection('animals', this)">
                <span class="nav-icon">ü¶Å</span>
                <span>Animals</span>
            </button>
            <button class="nav-item" onclick="showSection('space', this)">
                <span class="nav-icon">üöÄ</span>
                <span>Space</span>
            </button>
            <button class="nav-item" onclick="showSection('science', this)">
                <span class="nav-icon">üî¨</span>
                <span>Science</span>
            </button>
            <button class="nav-item" onclick="showSection('challenge', this)">
                <span class="nav-icon">üéØ</span>
                <span>Challenge</span>
            </button>
        </div>
    </nav>

    <!-- Modal -->
    <div id="articleModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeModal()">√ó</button>
            <div class="modal-emoji" id="modalEmoji">üì∞</div>
            <h2 class="modal-title" id="modalTitle">Title</h2>
            <div class="modal-text" id="modalText">Content</div>
            <div class="fun-fact-box">
                <h3>üåü Extra Fun Fact!</h3>
                <p id="modalExtra">Extra fact</p>
            </div>
            <div class="feedback-section">
                <p class="feedback-title">Did you like this story?</p>
                <div class="feedback-buttons">
                    <button class="feedback-btn" onclick="submitFeedback(true)">üëç</button>
                    <button class="feedback-btn thumbs-down" onclick="submitFeedback(false)">üëé</button>
                </div>
                <p class="feedback-message" id="feedbackMessage"></p>
            </div>
        </div>
    </div>

    <script>
        // Challenge Pool - 25 different challenges
        const challengePool = [
            "Find something blue in your room and draw it! üîµüé®",
            "Count how many windows are in your house! ü™üüî¢",
            "Find three things that are soft and give them a hug! ‚òÅÔ∏èü§ó",
            "Draw a picture of your favorite animal! ü¶Å‚úèÔ∏è",
            "Help water a plant today! üå±üíß",
            "Find something shaped like a circle in your kitchen! ‚≠ïüçΩÔ∏è",
            "Try to stand on one foot for 10 seconds! ü¶∂‚è±Ô∏è",
            "Draw what you think an alien looks like! üëΩüõ∏",
            "Find five things that are green outside! üåøüå≥",
            "Make up a song about your favorite food! üéµüçï",
            "Look at the clouds and tell someone what shapes you see! ‚òÅÔ∏èüëÄ",
            "Try to find a bird outside and watch what it does! üê¶üîç",
            "Draw a map of your bedroom! üó∫Ô∏èüõèÔ∏è",
            "Find something that starts with the letter 'B'! üÖ±Ô∏èüîé",
            "Give someone in your family a high-five! ‚úã‚ù§Ô∏è",
            "Find something that floats in water! üõÅü¶Ü",
            "Count how many books you have in your room! üìöüî¢",
            "Find something that makes a crunch sound! ü•ïüëÇ",
            "Draw your favorite season - winter, spring, summer, or fall! üçÇ‚ùÑÔ∏è‚òÄÔ∏èüå∏",
            "Find something that smells really good! üëÉüå∫",
            "Do 10 jumping jacks! üèÉ‚Äç‚ôÄÔ∏è‚≠ê",
            "Find something yellow in your house! üíõüçã",
            "Tell someone three things you're grateful for! üôèüíï",
            "Make a funny face in the mirror for 10 seconds! üòúü™û",
            "Find something that's older than you! üë¥‚è∞"
        ];

        // Content Data - Directly defined to ensure it loads
        const contentData = {
            animals: [
                {
                    id: 'a1',
                    emoji: 'üêã',
                    category: 'Ocean',
                    title: 'Blue Whales Have Huge Hearts!',
                    text: 'Blue whales are the biggest animals that have ever lived on Earth - even bigger than dinosaurs! Their heart is as big as a small car and weighs about 1,300 pounds.',
                    extra: 'A blue whale\'s tongue alone weighs as much as an elephant! And their calls are the loudest sounds made by any animal.',
                    color: 'ocean',
                    imageUrl: null
                },
                {
                    id: 'a2',
                    emoji: 'üê®',
                    category: 'Marsupials',
                    title: 'Koalas Have Fingerprints Like Humans!',
                    text: 'Koalas have fingerprints that look almost exactly like human fingerprints! Even scientists have trouble telling them apart under a microscope.',
                    extra: 'Koalas sleep up to 20 hours a day because the eucalyptus leaves they eat take a lot of energy to digest!',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a3',
                    emoji: 'ü¶©',
                    category: 'Birds',
                    title: 'Flamingos Are Pink From Shrimp!',
                    text: 'Flamingos are born gray and turn pink because of the food they eat! They love shrimp and algae that have special pink colors.',
                    extra: 'A group of flamingos is called a "flamboyance" - isn\'t that a fancy word?',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a4',
                    emoji: 'üêò',
                    category: 'African Animals',
                    title: 'Elephants Cannot Jump!',
                    text: 'Elephants are the only mammals that cannot jump! They are too heavy and their legs are not built for jumping. But they are excellent swimmers!',
                    extra: 'Elephants can "hear" with their feet! They pick up vibrations from the ground through their sensitive foot pads.',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a5',
                    emoji: 'ü¶í',
                    category: 'African Animals',
                    title: 'Giraffes Have Purple Tongues!',
                    text: 'Giraffes have very long tongues - up to 20 inches! Their tongues are purple or blue-black to protect them from sunburn when eating leaves.',
                    extra: 'Baby giraffes are born by falling about 6 feet to the ground! But they are tough and can stand up within an hour.',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a6',
                    emoji: 'üê¢',
                    category: 'Reptiles',
                    title: 'Turtles Can Breathe Through Their Bottoms!',
                    text: 'Some turtles can breathe through their bottoms! This helps them get oxygen when hibernating underwater in mud during winter.',
                    extra: 'The oldest turtle ever lived to be 188 years old! She was given to a royal family in 1777.',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a7',
                    emoji: 'ü¶â',
                    category: 'Birds',
                    title: 'Owls Can Turn Heads 270 Degrees!',
                    text: 'Owls can turn their heads almost all the way around! They need to because their eyes are fixed in their sockets and cannot move.',
                    extra: 'A group of owls is called a "parliament" - just like the government building!',
                    color: 'animals',
                    imageUrl: null
                },
                {
                    id: 'a8',
                    emoji: 'üê¨',
                    category: 'Ocean',
                    title: 'Dolphins Have Names!',
                    text: 'Dolphins use special whistles to call each other, and each dolphin has its own unique whistle - like a name!',
                    extra: 'Dolphins sleep with one eye open! They rest one half of their brain at a time so they can keep swimming.',
                    color: 'ocean',
                    imageUrl: null
                }
            ],
            space: [
                {
                    id: 's1',
                    emoji: 'ü™ê',
                    category: 'Planets',
                    title: 'Saturn Would Float in Water!',
                    text: 'Saturn is made of gas and is so light that if you could find a bathtub big enough, Saturn would float!',
                    extra: 'Saturn has at least 146 moons! Its biggest moon, Titan, has lakes made of liquid methane.',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's2',
                    emoji: '‚≠ê',
                    category: 'Stars',
                    title: 'More Stars Than Sand!',
                    text: 'There are more stars in the universe than all the grains of sand on all the beaches on Earth!',
                    extra: 'When you look at stars, you are looking back in time! The light takes years to reach us.',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's3',
                    emoji: 'üöÄ',
                    category: 'Space Travel',
                    title: 'Rockets Go 17,500 Miles Per Hour!',
                    text: 'To get to space, rockets need to travel at 17,500 miles per hour! That is called "escape velocity."',
                    extra: 'The Saturn V rocket that took astronauts to the Moon was as tall as a 36-story building!',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's4',
                    emoji: 'üåô',
                    category: 'Moon',
                    title: 'Footprints Last Forever on the Moon!',
                    text: 'When astronauts walked on the Moon in 1969, they left footprints that are still there today!',
                    extra: 'There is no wind or rain on the Moon to wash them away. The footprints will stay for millions of years!',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's5',
                    emoji: 'üî¥',
                    category: 'Planets',
                    title: 'Mars Has the Biggest Volcano!',
                    text: 'Mars has Olympus Mons, the biggest volcano in our solar system. It is three times taller than Mount Everest!',
                    extra: 'Mars is called the Red Planet because its soil is full of rust!',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's6',
                    emoji: '‚òÄÔ∏è',
                    category: 'Sun',
                    title: 'The Sun is a Giant Star!',
                    text: 'The Sun is so big that one million Earths could fit inside it! It is very hot - about 10,000 degrees on the surface.',
                    extra: 'The Sun is actually white, not yellow! It looks yellow because of Earth\'s atmosphere.',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's7',
                    emoji: '‚òÑÔ∏è',
                    category: 'Space Objects',
                    title: 'Comets Are Dirty Snowballs!',
                    text: 'Comets are made of ice, dust, and rock. When they get close to the Sun, they melt and create beautiful glowing tails!',
                    extra: 'Halley\'s Comet visits Earth every 76 years. It will return in 2061!',
                    color: 'space',
                    imageUrl: null
                },
                {
                    id: 's8',
                    emoji: 'üõ∞Ô∏è',
                    category: 'Space Station',
                    title: 'Astronauts See 16 Sunrises Daily!',
                    text: 'The Space Station orbits Earth every 90 minutes. Astronauts see 16 sunrises and 16 sunsets every day!',
                    extra: 'Astronauts grow taller in space because there is no gravity to squish their spines!',
                    color: 'space',
                    imageUrl: null
                }
            ],
            science: [
                {
                    id: 'c1',
                    emoji: 'üçØ',
                    category: 'Food Science',
                    title: 'Honey Never Goes Bad!',
                    text: 'Honey is one of the only foods that never spoils! Scientists found 3,000-year-old honey in Egypt that is still good to eat.',
                    extra: 'To make one jar of honey, bees fly a distance equal to going around the world three times!',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c2',
                    emoji: 'ü¶¥',
                    category: 'Human Body',
                    title: 'Your Brain is 75% Water!',
                    text: 'Your brain is about 75% water, which is why drinking water helps you stay smart and healthy!',
                    extra: 'You are taller in the morning than at night! Gravity squishes your spine during the day.',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c3',
                    emoji: 'üçå',
                    category: 'Plants',
                    title: 'Bananas Are Berries!',
                    text: 'In science, bananas are berries because they grow from a flower with one ovary. But strawberries are not berries!',
                    extra: 'Bananas are slightly radioactive, but you would need to eat 10 million at once to get sick!',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c4',
                    emoji: '‚òÅÔ∏è',
                    category: 'Weather',
                    title: 'Clouds Weigh Millions of Pounds!',
                    text: 'Clouds can weigh more than one million pounds - as heavy as 100 elephants! But they float because air holds them up.',
                    extra: 'Clouds look white because they reflect sunlight. When they turn gray, it might rain!',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c5',
                    emoji: '‚ùÑÔ∏è',
                    category: 'Weather',
                    title: 'The Biggest Snowflake Ever!',
                    text: 'The largest snowflake ever recorded was 15 inches wide - as big as a dinner plate! It fell in Montana in 1887.',
                    extra: 'Each snowflake is unique, like a fingerprint! They form differently based on temperature.',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c6',
                    emoji: '‚ö°',
                    category: 'Weather',
                    title: 'Lightning is Hotter Than the Sun!',
                    text: 'A lightning bolt can be five times hotter than the surface of the Sun! It can reach 50,000 degrees Fahrenheit.',
                    extra: 'Lightning strikes Earth about 100 times every second!',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c7',
                    emoji: 'üß≤',
                    category: 'Physics',
                    title: 'Earth is a Giant Magnet!',
                    text: 'Earth acts like a giant magnet with a north and south pole! This is why compasses point north.',
                    extra: 'Some animals like sea turtles can sense Earth\'s magnetic field to find their way home!',
                    color: 'science',
                    imageUrl: null
                },
                {
                    id: 'c8',
                    emoji: 'üî•',
                    category: 'Chemistry',
                    title: 'Fire Needs Three Things!',
                    text: 'Fire needs heat, fuel, and oxygen to burn. This is called the "fire triangle." Remove one and fire goes out!',
                    extra: 'Fire doesn\'t have a shadow because it produces light!',
                    color: 'science',
                    imageUrl: null
                }
            ]
        };

        // Statistics
        let stats = {
            totalRead: 0,
            liked: 0,
            disliked: 0,
            categoryLikes: { animals: 0, space: 0, science: 0 },
            currentStreak: 1,
            lastVisit: new Date().toDateString()
        };

        let currentArticle = null;
        let currentChallengeIndex = -1;

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing app...');
            init();
        });

        function init() {
            try {
                loadStats();
                checkStreak();
                renderDailyPicks();
                renderLibraries();
                setTodaysChallenge();
                updateStats();
                
                // Set date
                const dateOptions = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                const dateEl = document.getElementById('dailyDate');
                if (dateEl) {
                    dateEl.textContent = new Date().toLocaleDateString('en-US', dateOptions);
                }
                
                console.log('App initialized successfully!');
            } catch (error) {
                console.error('Error initializing app:', error);
                showError('Failed to load content. Please refresh the page.');
            }
        }

        function showError(message) {
            const grids = ['dailyGrid', 'animalsGrid', 'spaceGrid', 'scienceGrid'];
            grids.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.innerHTML = `<div class="error-message">${message}</div>`;
                }
            });
        }

        function loadStats() {
            try {
                const saved = localStorage.getItem('explorerStats');
                if (saved) {
                    stats = JSON.parse(saved);
                }
            } catch (e) {
                console.log('No saved stats found');
            }
        }

        function saveStats() {
            try {
                localStorage.setItem('explorerStats', JSON.stringify(stats));
            } catch (e) {
                console.log('Could not save stats');
            }
        }

        function checkStreak() {
            const today = new Date().toDateString();
            const yesterday = new Date(Date.now() - 86400000).toDateString();
            
            if (stats.lastVisit === yesterday) {
                stats.currentStreak++;
            } else if (stats.lastVisit !== today) {
                stats.currentStreak = 1;
            }
            stats.lastVisit = today;
            saveStats();
        }

        // Set today's challenge
        function setTodaysChallenge() {
            const today = new Date().toDateString();
            const savedChallenge = localStorage.getItem('todaysChallenge');
            const savedDate = localStorage.getItem('challengeDate');
            
            const challengeEl = document.getElementById('challengeText');
            if (!challengeEl) return;
            
            if (savedChallenge && savedDate === today) {
                challengeEl.textContent = savedChallenge;
                currentChallengeIndex = parseInt(localStorage.getItem('challengeIndex') || '0');
            } else {
                const newIndex = Math.floor(Math.random() * challengePool.length);
                const newChallenge = challengePool[newIndex];
                
                challengeEl.textContent = newChallenge;
                currentChallengeIndex = newIndex;
                
                localStorage.setItem('todaysChallenge', newChallenge);
                localStorage.setItem('challengeDate', today);
                localStorage.setItem('challengeIndex', newIndex.toString());
            }
        }

        // Get new random challenge
        function newChallenge() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * challengePool.length);
            } while (newIndex === currentChallengeIndex && challengePool.length > 1);
            
            currentChallengeIndex = newIndex;
            const challengeText = document.getElementById('challengeText');
            
            if (challengeText) {
                challengeText.style.opacity = '0';
                challengeText.style.transform = 'translateY(10px)';
                
                setTimeout(() => {
                    challengeText.textContent = challengePool[newIndex];
                    challengeText.style.opacity = '0.95';
                    challengeText.style.transform = 'translateY(0)';
                }, 200);
            }
        }

        // Get daily picks based on date
        function getDailyPicks() {
            const today = new Date().toDateString();
            let hash = 0;
            for (let i = 0; i < today.length; i++) {
                const char = today.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            
            const allContent = [...contentData.animals, ...contentData.space, ...contentData.science];
            
            return [
                contentData.animals[Math.abs(hash) % contentData.animals.length],
                contentData.space[Math.abs(hash + 1) % contentData.space.length],
                contentData.science[Math.abs(hash + 2) % contentData.science.length],
                allContent[Math.abs(hash + 3) % allContent.length]
            ];
        }

        function renderDailyPicks() {
            const grid = document.getElementById('dailyGrid');
            if (!grid) return;
            
            const picks = getDailyPicks();
            
            grid.innerHTML = picks.map((article, i) => `
                <article class="daily-card ${i === 3 ? 'featured' : ''}" onclick="openModal('${article.id}')">
                    <div class="card-image ${article.color}">
                        <span class="topic-icon">${article.emoji}</span>
                    </div>
                    <div class="card-content">
                        <span class="card-category">${article.category}</span>
                        <h2 class="card-title">${article.title}</h2>
                        <p class="card-preview">${article.text}</p>
                    </div>
                </article>
            `).join('');
        }

        function renderLibraries() {
            // Update counts
            const animalCount = document.getElementById('animalCount');
            const spaceCount = document.getElementById('spaceCount');
            const scienceCount = document.getElementById('scienceCount');
            
            if (animalCount) animalCount.textContent = contentData.animals.length;
            if (spaceCount) spaceCount.textContent = contentData.space.length;
            if (scienceCount) scienceCount.textContent = contentData.science.length;
            
            // Render each library
            renderLibrary('animals', contentData.animals);
            renderLibrary('space', contentData.space);
            renderLibrary('science', contentData.science);
        }

        function renderLibrary(type, articles) {
            const grid = document.getElementById(type + 'Grid');
            if (!grid) return;
            
            if (!articles || articles.length === 0) {
                grid.innerHTML = '<div class="error-message">No stories found!</div>';
                return;
            }
            
            grid.innerHTML = articles.map(article => `
                <article class="news-card" onclick="openModal('${article.id}')">
                    <div class="card-image ${article.color}">
                        <span class="topic-icon">${article.emoji}</span>
                    </div>
                    <div class="card-content">
                        <span class="card-category">${article.category}</span>
                        <h2 class="card-title">${article.title}</h2>
                        <p class="card-preview">${article.text}</p>
                    </div>
                </article>
            `).join('');
        }

        function showSection(sectionId, btn) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Show selected section
            const section = document.getElementById(sectionId);
            if (section) section.classList.add('active');
            if (btn) btn.classList.add('active');
        }

        function openModal(id) {
            // Find article in all categories
            const allArticles = [...contentData.animals, ...contentData.space, ...contentData.science];
            const article = allArticles.find(a => a.id === id);
            
            if (!article) {
                console.error('Article not found:', id);
                return;
            }
            
            currentArticle = article;
            
            // Update modal content
            const modalEmoji = document.getElementById('modalEmoji');
            const modalTitle = document.getElementById('modalTitle');
            const modalText = document.getElementById('modalText');
            const modalExtra = document.getElementById('modalExtra');
            
            if (modalEmoji) modalEmoji.textContent = article.emoji;
            if (modalTitle) modalTitle.textContent = article.title;
            if (modalText) modalText.textContent = article.text;
            if (modalExtra) modalExtra.textContent = article.extra;
            
            // Reset feedback
            document.querySelectorAll('.feedback-btn').forEach(b => b.classList.remove('selected'));
            const feedbackMsg = document.getElementById('feedbackMessage');
            if (feedbackMsg) {
                feedbackMsg.classList.remove('show');
                feedbackMsg.textContent = '';
            }
            
            // Show modal
            const modal = document.getElementById('articleModal');
            if (modal) modal.classList.add('active');
            
            // Update stats
            stats.totalRead++;
            saveStats();
            updateStats();
        }

        function closeModal(e) {
            if (!e || e.target.classList.contains('modal') || e.target.classList.contains('close-btn')) {
                const modal = document.getElementById('articleModal');
                if (modal) modal.classList.remove('active');
            }
        }

        function submitFeedback(liked) {
            // Update button visual
            document.querySelectorAll('.feedback-btn').forEach(b => b.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Update stats
            if (liked) {
                stats.liked++;
                // Determine category
                let cat = 'science';
                if (currentArticle.id.startsWith('a')) cat = 'animals';
                else if (currentArticle.id.startsWith('s')) cat = 'space';
                stats.categoryLikes[cat]++;
            } else {
                stats.disliked++;
            }
            saveStats();
            updateStats();
            
            // Show message
            const msg = document.getElementById('feedbackMessage');
            if (msg) {
                msg.textContent = liked ? 'Great! More stories like this coming! üåü' : 'Thanks! We\'ll find different stories! üíô';
                msg.style.color = liked ? '#48bb78' : '#4299e1';
                msg.classList.add('show');
            }
        }

        function updateStats() {
            const totalRead = document.getElementById('totalRead');
            const likedCount = document.getElementById('likedCount');
            const currentStreak = document.getElementById('currentStreak');
            const favoriteCategory = document.getElementById('favoriteCategory');
            
            if (totalRead) totalRead.textContent = stats.totalRead;
            if (likedCount) likedCount.textContent = stats.liked;
            if (currentStreak) currentStreak.textContent = stats.currentStreak;
            
            if (favoriteCategory) {
                const entries = Object.entries(stats.categoryLikes);
                const sorted = entries.sort((a,b) => b[1]-a[1]);
                const fav = sorted[0];
                favoriteCategory.textContent = fav && fav[1] > 0 ? 
                    fav[0].charAt(0).toUpperCase() + fav[0].slice(1) : '-';
            }
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(e => console.log(e));
            } else {
                document.exitFullscreen();
            }
        }
    </script>
</body>
</html>
